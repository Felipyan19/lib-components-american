services:
  components-api:
    build:
      context: ./api
      dockerfile: Dockerfile
    ports:
      - "5050:5000"
    volumes:
      - ./libs/components:/components:ro
    environment:
      - COMPONENTS_DIR=/components
      - PUBLIC_BASE_URL=${PUBLIC_BASE_URL:-https://components.149-130-164-187.sslip.io}
      - TEMP_PNG_TTL_SECONDS=${TEMP_PNG_TTL_SECONDS:-3600}
    restart: unless-stopped
